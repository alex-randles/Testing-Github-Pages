function downloadDoc(e){try{window.cordova?cordova.InAppBrowser.open(e+"/ServerFileRetrievalServlet?serverFilePathSessionAttrName=DOC_FILEPATH&contentType=application/octet-stream&printPdfFlag=PRINT","_blank","location=yes"):window.open(e+"/ServerFileRetrievalServlet?serverFilePathSessionAttrName=DOC_FILEPATH&contentType=application/octet-stream&printPdfFlag=PRINT","toolbar=0,location=0,left=100,top=100,width=800,height=800").focus()}catch(e){}}function printDoc(e){var i,t,a,r,o=(t=function(e){try{return new ActiveXObject(e)}catch(e){}},a=function(e){for(key in navigator.plugins){var i=navigator.plugins[key];if(i.name===e)return i}},r=function(){return this.plugin||("ie"===i()?t("AcroPDF.PDF")||t("PDF.PdfCtrl"):a("Adobe Acrobat")||a("Chrome PDF Viewer")||a("WebKit built-in PDF"))},{browser:(i=function(){return this.name||((e=navigator?navigator.userAgent.toLowerCase():"other").indexOf("chrome")>-1?"chrome":e.indexOf("safari")>-1?"safari":e.indexOf("msie")>-1||navigator.appVersion.indexOf("Trident/")>0?"ie":e.indexOf("firefox")>-1?"firefox":e);var e})(),acrobat:!!r()&&"installed",acrobatVersion:function(){try{var e=r();if("ie"===i()){var t=e.GetVersions().split(",")[0].split("=");return parseFloat(t[1])}return e.version?parseInt(e.version):e.name}catch(e){return null}}()});if("ie"!==o.browser&&"safari"!==o.browser||!1!==o.acrobat)try{window.open(e+"/ServerFileRetrievalServlet?serverFilePathSessionAttrName=DOC_FILEPATH&contentType=application/pdf&printPdfFlag=PRINT","","toolbar=0,location=0,left=100,top=100,width=800,height=800").focus()}catch(e){alert("Either popup blocker is enabled or file cannot be downloaded for viewing at this moment.")}else alert("Please install pdf reader to preview the content in "+o.browser)}function beforeAjaxButtonActionService(e,i,t,a,r,o){var n=$("#"+o);if(n.addClass(DISABLED_CLASS),n.hasClass("setup-device")&&(window.boiCbs.variables.isSetupDeviceClicked=!0),n.hasClass("sms-invitation-code")&&(window.boiCbs.variables.isDeviceRegistrationCalled=!0),n.hasClass("trigger-device-push")&&(window.boiCbs.variables.isDevicePushTriggered=!0),n.hasClass("trigger-device-location")&&(window.boiCbs.variables.isDeviceLocationTriggered=!0),n.hasClass("boi-mobile-auth-btn")&&(isMobileAuthTriggered=!0),n.hasClass("trigger-user-profiles-session-timeout")){var s=localStorage.getItem("isHybridFromStorage");if("Y"===s&&($(".isHybridFromStorage").val(s),!$(".userProfileJSON").val())){var l=localStorage.getItem("userProfileJSONStorage");$(".isHybridFromStorage").val(s),$(".userProfilesFromStorage").val(l)}}return sessionActivateTime&&resetSessionTime(),!0}function postAjaxProcessingHook(e,i,t,a,r,o,n,s,l){appendClearIconToInputElement(),$(s).hasClass("sca-continue-btn")&&bindCustomEventsToControls(),window.boiCbs.variables.isDeviceRegistrationCalled&&$(s).hasClass("sms-invitation-code")&&(registerDeviceWithHID(),window.boiCbs.variables.isDeviceRegistrationCalled=!1),window.boiCbs.variables.isDevicePushTriggered&&$(s).hasClass("trigger-device-push")&&(scaPushEnabled(),window.boiCbs.variables.isDevicePushTriggered=!1),window.boiCbs.variables.isDeviceLocationTriggered&&$(s).hasClass("trigger-device-location")&&(scaLocationEnabled(),window.boiCbs.variables.isDeviceLocationTriggered=!1),$(s).hasClass("boi_nav_tabs01_dropdown")&&scaInputValidation(),window.boiCbs.variables.isSetupDeviceClicked&&(prePopulateInvitationCode(),window.boiCbs.variables.isSetupDeviceClicked=!1),$(s).hasClass("sca-phone-overlay")&&("Y"!==$(".showErrorMessage").text()&&"false"!==$(".isPinValid").text()||$(".boi-pin-digits").addClass("input-error-pin"),"true"===$(".enbale-no-device-overlay").text()&&($(".boi-pin-digits").removeClass("input-error-pin"),$(".hidden-btn-nodeviceoverlay").trigger("click")));var c=$(".pickContactNumerObj");return c.length&&(0===c.parent().find(".boi-clear-btn").length?c.parent().append('<span class="boi-clear-btn fa fa-times show"></span>'):c.parent().find(".boi-clear-btn").hasClass("show")||c.parent().find(".boi-clear-btn").addClass("show")),$(s).hasClass("resend-invitation-code")&&($(".sending-invitation-code-display-text").addClass("hide"),$(".invitation-code-sent-disbplay-text").removeClass("hide")),$(s).hasClass("boi-oneapp-login")&&(scaInputValidation(),"true"===$(".isblockeduser").text()?$(".hidden-btn-blockeduser-overlay").trigger("click"):($(".login-dob").attr("placeholder","DD/MM/YYYY"),$(".sca-continue-btn").addClass("sca-disabled").attr("aria-disabled",!0).prop("disabled",!0))),$(s).hasClass("openapp-settings-btn")&&openAppSettings(),isMobileAuthTriggered&&$(s).hasClass("boi-mobile-auth-btn")&&(isMobileAuthTriggered=!1,$(".pinError").length?$(".boi-pin-digits").addClass("input-error-pin"):"true"===$(".sca-event-id").val()?"Y"===$(".otp-auth-enabled").text()?generateOTP():(messageSent(),getDeviceSignature()):$(".trigger-authenticate-btn").length&&(messageSent(),$(".trigger-authenticate-btn").trigger("click"))),sessionActivateTime&&resetSessionTime(),!0}function postProcessResponse(e,i,t){return bindCustomEventsToControls(),$(".keyEnter").keypress((function(e){13===e.which&&($(".boi-device-prov-ctn-btn").click(),document.activeElement.blur())})),$("."+DISABLED_CLASS).removeClass(DISABLED_CLASS),!0}function bindCustomEventsToControls(){$(".push-notification-text").is(":visible")&&$(".boi-pin-error-page-load").hide(),"Y"!==$(".showErrorMessage").text()&&"false"!==$(".isPinValid").text()||($(".boi-pin-error-page-load").hide(),$(".pinkey").val("")),$(".remove-edge-default-added-space").html((function(e,i){return i.replace(/&nbsp;/g,"")})),$(".sca-input").unbind("keyup change input paste").bind("keyup change input",(function(){scaInputValidation()})).bind("paste",(function(){setTimeout((function(){scaInputValidation()}),50)})),$(".one-time-code").change((function(){$(".one-time-code").siblings(".qlrError").remove(),$(".one-time-code").closest(".tc-error-row").find(".qlrError").removeClass("tc-error-color-border").removeClass("tc-error-color").removeClass("qlrError")}))}function scaInputValidation(){$(".sca-input").each((function(e,i){$(i).val().length>0?$(".sca-continue-btn").removeClass("sca-disabled").attr("aria-disabled",!1).prop("disabled",!1):$(".sca-continue-btn").addClass("sca-disabled").attr("aria-disabled",!0).prop("disabled",!0)}))}function bindHeaderBackToFormBack(){$(".headerBack").click((function(){$(this).off("click"),$(".formBack").trigger("click")}))}function removePhoneContact(){"use strict";var e=$(".pickContactNumerObj");e.is(":visible")&&($(".resetPhoneNumber").trigger("click"),e.blur().change())}function appendClearIconToInputElement(){for(var e=document.getElementsByClassName("boi-input-clear"),i=0,t=e.length;i<t;i+=1){var a=$(e[i]);!a.length||!a.is("input")||void 0===a.val()||""===a.val()||a.prop("readonly")&&a.prop("disabled")||0===a.parent().find(".boi-clear-btn").length&&a.after('<span role="text" aria-label="double tap to clear all" class="boi-clear-btn fa fa-times show"></span>')}}var isMobileAuthTriggered;$(document).ready((function(){isMobileAuthTriggered=!1,$("a").on("click",(function(){$(".tc-radio").removeClass("ext-tc-radio-input")})),bindCustomEventsToControls(),bindHeaderBackToFormBack(),appendClearIconToInputElement(),$(window).load((function(){$("body").find("input","textarea").closest("div").addClass("ext-tc-radio-input")})),$(document).on("mousedown touchstart",".boi-clear-btn",(function(){$(this).parent().find("input").val(""),$(this).parent().find("textarea").val(""),$(this).parent().find("span.tc-error-color,.boi_input_sm_error").css("display","none"),$(this).parent().addClass("boi-search-input"),$(this).parents(".input-error, .boi-standard-question-label").removeClass("input-error"),$(this).parents(".tc-error-color").removeClass("tc-error-color"),$(this).parents(".qlrError").removeClass("qlrError"),$(this).siblings(".tc-error-color").removeClass("tc-error-color"),$(this).siblings(".qlrError").removeClass("qlrError"),$(this).removeClass("hasDatepicker"),$(this).removeClass("show"),scaInputValidation(),removePhoneContact(),prePopulateInvitationCode()})),$(document).on("keyup","input.boi-input-clear",(function(){""!==$(this).val()&&void 0!==$(this).val()?($(this).removeClass("hasDatepicker"),0===$(this).parent().find(".boi-clear-btn").length?$(this).after('<span role="text" aria-label="double tap to clear all" class="boi-clear-btn fa fa-times show"></span>'):$(this).parent().find(".boi-clear-btn").hasClass("show")||$(this).parent().find(".boi-clear-btn").addClass("show")):$(this).parent().find(".boi-clear-btn").removeClass("show")}))})),"downloadDoc"===window.boiCbs.variables.templateCMD?downloadDoc(window.boiCbs.variables.contextPath):"printDoc"===window.boiCbs.variables.templateCMD&&printDoc(window.boiCbs.variables.contextPath);